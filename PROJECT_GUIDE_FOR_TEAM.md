# X-ray 이미지 전처리 뷰어 - 팀원 설명 자료

## 이 프로젝트는 무엇인가요?

**한 줄 요약**: X-ray 사진을 더 선명하게 만들어서 의료진이 폐렴 같은 질병을 더 잘 발견할 수 있도록 도와주는 웹 도구입니다.

---

## 왜 필요한가요?

### 문제점
병원에서 찍은 X-ray 사진은 때때로:
- 너무 어둡거나 밝아서 잘 안 보임
- 중요한 부분(폐, 뼈 경계선 등)이 흐릿함
- 의사가 질병을 놓칠 수 있음

### 해결책
이 도구를 사용하면:
- 어두운 부분을 밝게, 밝은 부분을 조절해서 **선명하게** 만듦
- 폐나 뼈의 **경계선을 강조**해서 이상 부위를 찾기 쉽게 함
- **원본과 처리된 이미지를 나란히** 비교 가능

---

## 어떻게 작동하나요?

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   1. X-ray 파일 업로드                                       │
│      (병원 DICOM 파일 또는 일반 이미지)                        │
│                         ↓                                   │
│   2. 전처리 방법 선택                                        │
│      • 원본 보기                                            │
│      • 대비 향상 (CLAHE) - 선명하게                          │
│      • 경계선 검출 (Canny) - 윤곽선 추출                      │
│                         ↓                                   │
│   3. 결과 확인                                              │
│      • 원본 vs 처리 결과 비교                                │
│      • 환자 정보 확인                                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 주요 기능 3가지

### 1. 대비 향상 (CLAHE)

| 처리 전 | 처리 후 |
|--------|--------|
| 어두운 부분이 안 보임 | 전체적으로 선명함 |
| 밝은 부분만 보임 | 숨겨진 부분도 보임 |

**비유**: 어두운 방에서 찍은 사진을 포토샵으로 보정하는 것과 비슷해요.
단, 의료 영상에 최적화된 전문 알고리즘을 사용합니다.

---

### 2. 경계선 검출 (Canny)

뼈, 장기, 이상 부위의 **윤곽선만 추출**합니다.

**언제 유용한가요?**
- 폐 경계가 어디인지 확인할 때
- 뼈 골절 여부를 볼 때
- 종양이나 이상 조직의 형태를 파악할 때

---

### 3. DICOM 메타데이터 확인

병원 X-ray 파일(DICOM)에는 숨겨진 정보가 있습니다:

| 정보 종류 | 예시 |
|----------|------|
| 환자 ID | ABC123 |
| 촬영 장비 | CR (일반 X-ray) |
| 이미지 크기 | 2048 x 2048 |
| 밝기 설정값 | Window Center: 40 |

이 도구는 이런 정보를 자동으로 읽어서 보여줍니다.

---

## 사용 방법 (3단계)

### Step 1: 프로그램 실행
```
웹 브라우저에서 http://localhost:8501 접속
```

### Step 2: 파일 업로드
- 왼쪽 사이드바에서 **파일 선택** 클릭
- X-ray 파일 선택 (.dcm, .png, .jpg 등)

### Step 3: 전처리 선택 및 확인
- **원본만 보기**: 아무 처리 없이 원본 확인
- **CLAHE 대비 향상**: 선명하게 만들기
- **에지 검출(Canny)**: 경계선만 추출

---

## 기술 스택 (참고용)

비전공자분들도 알아두면 좋은 용어들:

| 기술 | 역할 | 쉬운 설명 |
|------|------|----------|
| **Python** | 프로그래밍 언어 | 이 프로그램을 만든 언어 |
| **Streamlit** | 웹 화면 | 브라우저에서 보이는 화면 담당 |
| **OpenCV** | 이미지 처리 | 사진을 선명하게 만드는 도구 |
| **pydicom** | DICOM 처리 | 병원 X-ray 파일을 읽는 도구 |
| **FastAPI** | API 서버 | 다른 프로그램에서 연결할 수 있게 함 |

---

## 프로젝트 파일 구조

```
open_cv_app/
│
├── app.py              ← 웹 화면 (사용자가 보는 부분)
├── api.py              ← API 서버 (개발자용)
├── preprocess_core.py  ← 핵심 이미지 처리 로직
├── requirements.txt    ← 필요한 라이브러리 목록
└── README.md           ← 프로젝트 설명서
```

**파일별 역할 비유**:
- `app.py` = 식당의 홀 (손님이 보는 곳)
- `api.py` = 배달 창구 (외부 연결)
- `preprocess_core.py` = 주방 (실제 요리하는 곳)

---

## 자주 묻는 질문 (FAQ)

### Q: 일반 사진도 처리할 수 있나요?
**A**: 네! PNG, JPG, BMP 등 일반 이미지도 지원합니다. 단, DICOM 파일처럼 상세한 메타데이터는 없습니다.

### Q: 처리된 이미지를 저장할 수 있나요?
**A**: 현재 버전에서는 화면에서 우클릭하여 이미지를 저장할 수 있습니다.

### Q: 인터넷 없이도 사용할 수 있나요?
**A**: 네! 모든 처리가 로컬 컴퓨터에서 이루어지므로 인터넷 연결이 필요 없습니다.

### Q: 환자 정보가 외부로 유출될 위험이 있나요?
**A**: 아니요. 모든 데이터는 사용자의 컴퓨터 내에서만 처리되고, 어디에도 전송되지 않습니다.

---

## 향후 추가 가능한 기능

- [ ] 처리된 이미지 다운로드 버튼
- [ ] 여러 이미지 일괄 처리
- [ ] AI 기반 폐렴 자동 감지
- [ ] 처리 결과 리포트 생성

---

## 문의

프로젝트 관련 질문이 있으시면 개발팀에 연락해 주세요.

---

*이 문서는 비전공자 팀원들을 위해 작성되었습니다.*
*최종 업데이트: 2025년 11월*
